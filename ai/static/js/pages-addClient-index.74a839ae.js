(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addClient-index"],{"3b8f":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addpatient=function(e){return(0,i.default)({url:"/doctor/addpatient",method:"post",data:e})},t.finduserbyidnumber=function(e){return(0,i.default)({url:"/doctor/finduserbyidnumber",method:"get",data:e})},t.isaddpatient=function(e){return(0,i.default)({url:"/doctor/isaddpatient",method:"post",data:e})};var i=a(n("ec6b"))},7372:function(e,t,n){"use strict";var a=n("90e0"),i=n.n(a);i.a},"90e0":function(e,t,n){var a=n("d833");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("cb9855d0",a,!0,{sourceMap:!1,shadowMode:!1})},"90f4":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={customNavbar:n("6c8f").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("custom-navbar",{attrs:{title:"添加就诊人"}}),n("v-uni-view",{staticClass:"flex-between bor-b"},[n("v-uni-view",{staticClass:"flex1 label"},[e._v("身份证号码")]),n("v-uni-view",{staticClass:"flex2 flex-between"},[n("v-uni-input",{staticClass:"flex2 c-main",attrs:{type:"text",maxlength:"18",placeholder:"请输入身份证号码"},model:{value:e.client.idNumber,callback:function(t){e.$set(e.client,"idNumber",t)},expression:"client.idNumber"}}),n("v-uni-text",{class:18==e.client.idNumber.length?"c-main":"c-gray",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleFind.apply(void 0,arguments)}}},[e._v("查找")])],1)],1),n("v-uni-view",{staticClass:"flex-between bor-b"},[n("v-uni-view",{staticClass:"flex1 label"},[e._v("姓名")]),n("v-uni-input",{staticClass:"flex2 c-main",attrs:{type:"text",placeholder:"请输入姓名"},model:{value:e.client.name,callback:function(t){e.$set(e.client,"name",t)},expression:"client.name"}})],1),n("v-uni-view",{staticClass:"flex-between bor-b"},[n("v-uni-view",{staticClass:"flex1 label"},[e._v("手机号码")]),n("v-uni-input",{staticClass:"flex2 c-main",attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号码"},model:{value:e.client.mobile,callback:function(t){e.$set(e.client,"mobile",t)},expression:"client.mobile"}})],1),n("v-uni-view",{staticClass:"flex-between bor-b"},[n("v-uni-view",{staticClass:"flex1 label"},[e._v("民族")]),n("v-uni-input",{staticClass:"flex2 c-main",attrs:{type:"text",placeholder:"请输入民族"},model:{value:e.client.nation,callback:function(t){e.$set(e.client,"nation",t)},expression:"client.nation"}})],1),n("v-uni-button",{staticClass:"btn width345 fixed",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleAdd.apply(void 0,arguments)}}},[e._v("请先添加就诊人")])],1)},o=[]},9427:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirm=function(e){return new Promise((function(t,n){uni.showModal({content:e,success:function(e){t(e)}})}))},t.tansParams=function(e){for(var t="",n=0,a=Object.keys(e);n<a.length;n++){var o=a[n],l=e[o],c=encodeURIComponent(o)+"=";if(null!==l&&""!==l&&"undefined"!==typeof l)if("object"===(0,i.default)(l))for(var u=0,d=Object.keys(l);u<d.length;u++){var s=d[u];if(null!==l[s]&&""!==l[s]&&"undefined"!==typeof l[s]){var r=o+"["+s+"]",f=encodeURIComponent(r)+"=";t+=f+encodeURIComponent(l[s])+"&"}}else t+=c+encodeURIComponent(l)+"&"}return t},t.toast=function(e){uni.showToast({icon:"none",title:e})};var i=a(n("fcf3"));n("bf0f"),n("dc8a")},a1a2:function(e,t,n){"use strict";n.r(t);var a=n("90f4"),i=n("e461");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("7372");var l=n("828b"),c=Object(l["a"])(i["default"],a["b"],a["c"],!1,null,"3d69cb4c",null,!1,a["a"],void 0);t["default"]=c.exports},a861:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"}},ab6c:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("9b1b")),o=n("3b8f"),l={data:function(){return{doctorId:"507544",client:{idNumber:"",mobile:"",name:"",nation:"汉族"}}},methods:{handleFind:function(){var e=this;18==this.client.idNumber.length&&(0,o.finduserbyidnumber)({idNumber:this.client.idNumber}).then((function(t){t.data&&(e.client=(0,i.default)({},t.data))}))},handleAdd:function(){var e=this.client,t=e.idNumber,n=e.mobile,a=e.name,l=e.nation;if(t)if(a)if(n)if(l){var c=(0,i.default)((0,i.default)({},this.client),{},{doctorId:uni.getStorageSync("doctorId"),patientId:this.client.id});console.log(c),(0,o.addpatient)(c).then((function(e){0===e.status&&(uni.showToast({title:"添加成功",icon:"none",duration:1e3}),setTimeout((function(){uni.navigateTo({url:"/pages/chat/chat"})}),1e3))}))}else uni.showToast({title:"请输入就诊人民族",icon:"none"});else uni.showToast({title:"请输入就诊人手机号码",icon:"none"});else uni.showToast({title:"请输入就诊人姓名",icon:"none"});else uni.showToast({title:"请输入就诊人身份证号码",icon:"none"})}}};t.default=l},d833:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,"uni-page-body[data-v-3d69cb4c]{padding-top:calc(%?160?% + 0px)}.content[data-v-3d69cb4c]{padding:0 30px;font-size:16px;font-weight:400}.label[data-v-3d69cb4c]{font-size:16px;font-weight:400;color:#000}.bor-b[data-v-3d69cb4c]{padding:20px 0;border-bottom:1px solid #e5e5e5}.c-main[data-v-3d69cb4c]{color:#2fb3fb}.c-gray[data-v-3d69cb4c]{color:#888}",""]),e.exports=t},e461:function(e,t,n){"use strict";n.r(t);var a=n("ab6c"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},ec6b:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("5de6"));n("f7a5"),n("bf0f");var o=a(n("b9fd")),l=(n("3079"),a(n("a861")),n("9427")),c=o.default.baseUrl,u=function(e){if(e.params){var t=e.url+"?"+(0,l.tansParams)(e.params);t=t.slice(0,-1),e.url=t}return new Promise((function(t,n){uni.request({method:e.method||"get",url:c+e.url,data:e.data,header:{"Access-Control-Allow-Origin":"","Content-Type":"application/json"}}).then((function(e){var a=(0,i.default)(e,2),o=(a[0],a[1]),c=o.data.status||0,u=o.data.msg;0==c?t(o.data):1!==c&&(u&&(0,l.toast)(u),n(o.data))})).catch((function(e){n(e)}))}))};t.default=u}}]);