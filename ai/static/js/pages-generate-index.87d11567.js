(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-generate-index"],{"08ed":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.uploadFile=r,i("bf0f");var a=n(i("b9fd")),o=(i("3079"),n(i("a861")),i("9427"),a.default.baseUrl+a.default.baseApi);function r(t){return console.log("=======",t),new Promise((function(e,i){uni.showLoading({title:"Loading..."}),uni.uploadFile({method:"post",url:o+t.url,formData:{doctorId:uni.getStorageSync("doctorId")},filePath:t.data.file,name:"file",success:function(t){console.log(JSON.parse(t.data)),e(JSON.parse(t.data))},fail:function(t){console.log(t),i(t)},complete:function(){uni.hideLoading()}})}))}var c=r;e.default=c},"0948":function(t,e,i){var n=i("a4c6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("91e4291e",n,!0,{sourceMap:!1,shadowMode:!1})},"0fa5":function(t,e,i){var n=i("2615");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("17dca255",n,!0,{sourceMap:!1,shadowMode:!1})},2615:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".img[data-v-54568386]{width:124px;height:204px;border-radius:8px;background-color:#eee}.up-box[data-v-54568386]{width:336px;height:132px;border-radius:8px;background:#f5f5f5;margin:20px auto;padding-top:40px}.text1[data-v-54568386]{font-size:14px;font-weight:400;color:#000}.text2[data-v-54568386]{font-size:14px;font-weight:400;color:grey}.mt90[data-v-54568386]{margin-top:90px}.btn[data-v-54568386]{width:154px;height:34px;border-radius:18px;background:#f2f7fa;border:1px solid #2fb3fb;color:#2fb3fb;font-size:14px;font-weight:400;line-height:34px}.btn2[data-v-54568386]{width:154px;height:34px;border-radius:18px;background:#2fb3fb;color:#fff;font-size:14px;font-weight:400;line-height:34px}.popup-content[data-v-54568386]{background-color:#fff;border-radius:8px}.title[data-v-54568386]{font-size:16px;font-weight:400;color:#323234;text-align:center;padding:20px 0}.in-text[data-v-54568386]{font-size:16px;font-weight:400;color:#323234;padding:0 10px}.input[data-v-54568386]{width:80px;\n\t/* margin: 0 20px; */border:1px solid #e4e5e5;padding:0 2px}.bor-t[data-v-54568386]{border-top:1px solid #e4e5e5}.btn-text[data-v-54568386]{font-size:16px;font-weight:400;color:#2fb3fb;padding:5px 0}.video[data-v-54568386]{width:333px;height:269px;border-radius:8px;z-index:99}",""]),t.exports=e},2634:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.default=function(){return t};var t={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,e,i){t[e]=i.value},r="function"==typeof Symbol?Symbol:{},c=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(F){d=function(t,e,i){return t[e]=i}}function l(t,e,i,n){var a=e&&e.prototype instanceof h?e:h,r=Object.create(a.prototype),c=new O(n||[]);return o(r,"_invoke",{value:_(t,i,c)}),r}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(F){return{type:"throw",arg:F}}}t.wrap=l;var v={};function h(){}function p(){}function b(){}var x={};d(x,c,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==i&&a.call(g,c)&&(x=g);var w=b.prototype=h.prototype=Object.create(x);function y(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){var i;o(this,"_invoke",{value:function(o,r){function c(){return new e((function(i,c){(function i(o,r,c,s){var u=f(t[o],t,r);if("throw"!==u.type){var d=u.arg,l=d.value;return l&&"object"==(0,n.default)(l)&&a.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,c,s)}),(function(t){i("throw",t,c,s)})):e.resolve(l).then((function(t){d.value=t,c(d)}),(function(t){return i("throw",t,c,s)}))}s(u.arg)})(o,r,i,c)}))}return i=i?i.then(c,c):c()}})}function _(t,e,i){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(i.method=a,i.arg=o;;){var r=i.delegate;if(r){var c=k(r,i);if(c){if(c===v)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var s=f(t,e,i);if("normal"===s.type){if(n=i.done?"completed":"suspendedYield",s.arg===v)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(n="completed",i.method="throw",i.arg=s.arg)}}}function k(t,e){var i=e.method,n=t.iterator[i];if(void 0===n)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var a=f(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,v;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:p,configurable:!0}),p.displayName=d(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},y(C.prototype),d(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,i,n,a,o){void 0===o&&(o=Promise);var r=new C(l(e,i,n,a),o);return t.isGeneratorFunction(i)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},y(w),d(w,u,"Generator"),d(w,c,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=M,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return r.type="throw",r.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;E(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),v}},t},i("6a54"),i("01a2"),i("e39c"),i("bf0f"),i("844d"),i("18f7"),i("de6c"),i("3872e"),i("4e9b"),i("114e"),i("c240"),i("926e"),i("7a76"),i("c9b5"),i("aa9c"),i("2797"),i("8a8d"),i("dc69"),i("f7a5");var n=function(t){return t&&t.__esModule?t:{default:t}}(i("fcf3"))},"2eeb":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2634")),o=n(i("2fdc")),r=i("8a6b"),c=(i("ef20"),i("9b8e"));console.log(1111,c.ref);var s={name:"material-view",props:{videoSrc:{type:String,default:""}},data:function(){return{isChecked1:!1,isChecked2:!1,isChecked3:!1,isChecked4:!1,isSubmit:!1,isShowMaterial:1,videoUrl:""}},mounted:function(){this.videoSrc&&(this.videoUrl=this.videoSrc,console.log(this.videoUrl))},methods:{startCamera:function(){return(0,o.default)((0,a.default)().mark((function t(){var e;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){t.next=3;break}return alert("浏览器不支持摄像头"),t.abrupt("return");case 3:return t.prev=3,t.next=6,navigator.mediaDevices.getUserMedia({video:!0});case 6:e=t.sent,videoEl.value&&(videoEl.value.srcObject=e),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error("无法访问摄像头:",t.t0),alert("无法访问摄像头，请允许权限");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},cancel:function(){this.videoSrc=""},getVideoSrc:function(t){this.videoSrc=t.tempFilePath,this.tempFile=t.tempFile},handleDel:function(){this.videoSrc&&(this.isShowMaterial=1,this.videoSrc="")},handleChange:function(t){switch(t){case 1:this.isChecked1=!this.isChecked1;break;case 2:this.isChecked2=!this.isChecked2;break;case 3:this.isChecked3=!this.isChecked3;break;case 4:this.isChecked4=!this.isChecked4;break}this.isChecked1&&this.isChecked2&&this.isChecked3&&this.isChecked4?this.isSubmit=!0:this.isSubmit=!1},updateVideo:function(){var t=this;if(this.isSubmit){console.log("-------------------------------------------------------------"),console.log(this.videoUrl);var e={doctorId:uni.getStorageSync("doctorId"),file:this.videoSrc};(0,r.uploaddrive)(e).then((function(e){0===e.status&&(t.videoSrc=e.data,t.$emit("videoChange",e.data))}))}}}};e.default=s},"2fdc":function(t,e,i){"use strict";function n(t,e,i,n,a,o,r){try{var c=t[o](r),s=c.value}catch(u){return void i(u)}c.done?e(s):Promise.resolve(s).then(n,a)}i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=this,i=arguments;return new Promise((function(a,o){var r=t.apply(e,i);function c(t){n(r,a,o,c,s,"next",t)}function s(t){n(r,a,o,c,s,"throw",t)}c(void 0)}))}},i("bf0f")},"307e":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".camera-box[data-v-115963b8]{height:calc(100vh - 114px - 0px);background-color:#777;padding:20px 15px 42px 15px}.camera-bor[data-v-115963b8]{width:253px;height:292px;border-radius:110px 110px 130px 130px;border:6px solid #fff;margin:30px auto;position:relative}.camera-text[data-v-115963b8]{width:316px;\n\t/* height: 227px; */border-radius:8px;background:rgba(0,0,0,.2);position:absolute;top:30px;left:-42px;color:#fff;text-align:center;padding:10px}.text1[data-v-115963b8]{font-size:12px;font-weight:400;margin:15px auto}.text2[data-v-115963b8]{font-size:18px;font-weight:400}.mt90[data-v-115963b8]{margin-top:90px}.number[data-v-115963b8]{font-size:60px;font-weight:700;color:#fff}.countdown[data-v-115963b8]{width:160px;height:45px;border-radius:20px;background:#000;font-size:24px;font-weight:700;color:#fff;text-align:center;line-height:45px}",""]),t.exports=e},"36a7":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var n={name:"material",props:{isMaterial:{type:Number,default:1},text:{type:String,default:""}},data:function(){return{number:3,isTake:!1,seconds:30}},methods:{takePhoto:function(){var t=this;this.isTake=!0,this.number=3;var e=setInterval((function(){t.number--,0===t.number&&(clearInterval(e),t.number=3,t.isTake=!1,t.beginVideoPlay())}),1e3)},beginVideoPlay:function(){var t=this;uni.chooseVideo({sourceType:["camera","album"],success:function(e){console.log(e),t.$emit("videoSrc",e)}})},countdown:function(){var t=this;this.seconds=30;var e=setInterval((function(){t.seconds--,0===t.seconds&&(clearInterval(e),t.$emit("close"))}),1e3)},handelClose:function(){this.$emit("close")}}};e.default=n},4660:function(t,e,i){"use strict";var n=i("f3cf"),a=i.n(n);a.a},"4e28":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("ae14").default,material:i("fab3").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.videoSrc,expression:"videoSrc"}]},[i("v-uni-view",{staticClass:"video-box"},[i("v-uni-view",{staticClass:"trash-box"},[i("uni-icons",{attrs:{type:"trash",size:"25"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleDel.apply(void 0,arguments)}}})],1),i("v-uni-video",{ref:"videoEl",staticClass:"video",attrs:{src:t.videoSrc,type:"video/mp4"}})],1),i("v-uni-view",{staticClass:"text1 pl30 mb30"},[t._v("为获得更佳、更逼真的头像，请确认视频符合如下需求")]),i("v-uni-view",{staticClass:"flex-start  pl30 mb20"},[i("v-uni-view",{staticClass:"flex-start",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(1)}}},[i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:!t.isChecked1,expression:"!isChecked1"}],attrs:{type:"circle",size:"20",color:"#A6A6A6"}}),i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.isChecked1,expression:"isChecked1"}],attrs:{type:"checkbox-filled",size:"20",color:"#2FB3FB"}}),i("v-uni-text",{staticClass:"text2 ml10"},[t._v("您的脸部始终清晰可见")])],1),i("v-uni-view",{staticClass:"flex-start ml20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(2)}}},[i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:!t.isChecked2,expression:"!isChecked2"}],attrs:{type:"circle",size:"20",color:"#A6A6A6"}}),i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.isChecked2,expression:"isChecked2"}],attrs:{type:"checkbox-filled",size:"20",color:"#2FB3FB"}}),i("v-uni-text",{staticClass:"text2 ml10"},[t._v("您正视着相机")])],1)],1),i("v-uni-view",{staticClass:"flex-start  pl30"},[i("v-uni-view",{staticClass:"flex-start",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(3)}}},[i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:!t.isChecked3,expression:"!isChecked3"}],attrs:{type:"circle",size:"20",color:"#A6A6A6"}}),i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.isChecked3,expression:"isChecked3"}],attrs:{type:"checkbox-filled",size:"20",color:"#2FB3FB"}}),i("v-uni-text",{staticClass:"text2 ml10"},[t._v("朗读句子之间有停顿")])],1),i("v-uni-view",{staticClass:"flex-start ml20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(4)}}},[i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:!t.isChecked4,expression:"!isChecked4"}],attrs:{type:"circle",size:"20",color:"#A6A6A6"}}),i("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.isChecked4,expression:"isChecked4"}],attrs:{type:"checkbox-filled",size:"20",color:"#2FB3FB"}}),i("v-uni-text",{staticClass:"text2 ml10"},[t._v("环境安静，且光线充足")])],1)],1),i("v-uni-button",{staticClass:"mt90 width178",class:t.isSubmit?"btn":"btn1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateVideo.apply(void 0,arguments)}}},[t._v("确认提交")])],1),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startCamera.apply(void 0,arguments)}}},[t._v("点击录制")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.videoSrc,expression:"!videoSrc"}]},[i("material",{attrs:{isMaterial:t.isShowMaterial},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)},videoSrc:function(e){arguments[0]=e=t.$handleEvent(e),t.getVideoSrc.apply(void 0,arguments)}}})],1)],1)},o=[]},"568a":function(t,e,i){"use strict";i.r(e);var n=i("c30b"),a=i("a645");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("74cb");var r=i("828b"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"54568386",null,!1,n["a"],void 0);e["default"]=c.exports},"5c4a":function(t,e,i){var n=i("e36f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("9b083e92",n,!0,{sourceMap:!1,shadowMode:!1})},"5c7b":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getCloneid=function(t){return(0,a.default)({url:"/doctor/getcloneid",method:"get",data:t})},e.isdoctorauth=function(t){return(0,a.default)({url:"/doctor/isdoctorauth",method:"get",data:t})},e.savedoctorclone=function(t){return(0,a.default)({url:"/doctor/savedoctorclone",method:"post",data:t})},e.savemedicalrecord=function(t){return(0,a.default)({url:"/doctor/savemedicalrecord",method:"post",data:t})};var a=n(i("ec6b"))},"74cb":function(t,e,i){"use strict";var n=i("0fa5"),a=i.n(n);a.a},7816:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,'uni-page-body[data-v-53cb8b9c]{padding-top:calc(%?160?% + 0px)}.top-item[data-v-53cb8b9c]{font-size:14px;font-weight:400;color:grey}.active[data-v-53cb8b9c]{color:#000;position:relative}.active[data-v-53cb8b9c]::after{content:"";width:40px;height:4px;position:absolute;top:24px;left:30%;border-radius:4px;background:#2fb3fb}.mt90[data-v-53cb8b9c]{margin-top:90px}.text[data-v-53cb8b9c]{font-size:14px;font-weight:400}',""]),t.exports=e},"78d1":function(t,e,i){"use strict";var n=i("5c4a"),a=i.n(n);a.a},"7a7d":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.clonemodesetup=function(t){return(0,a.default)({url:"/doctor/clonemodesetup",method:"POST",data:t})},e.getCloneid=function(t){return(0,a.default)({url:"/doctor/getcloneid",method:"GET",data:t})},e.isexistaiclone=function(t){return(0,a.default)({url:"/doctor/isexistaiclone",method:"GET",data:t})},e.savedoctorclone=function(t){return(0,a.default)({url:"/doctor/savedoctorclone",method:"POST",data:t})};var a=n(i("ec6b"))},"7dc9":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={customNavbar:i("6c8f").default,materialView:i("e366").default,figureView:i("568a").default,uniIcons:i("ae14").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("custom-navbar",{attrs:{title:"创建数字人",isBg:!1}}),i("v-uni-view",{staticClass:"flex-between pl30 pr30 pb30"},[i("v-uni-view",{staticClass:"top-item",class:1==t.isSelect?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(1)}}},[t._v("上传驱动素材")]),i("v-uni-view",{staticClass:"top-item",class:2==t.isSelect?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(2)}}},[t._v("形象授权制作")]),i("v-uni-view",{staticClass:"top-item",class:3==t.isSelect?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange(3)}}},[t._v("上传文件制作")])],1),1==t.isSelect?i("v-uni-view",[i("material-view",{attrs:{videoSrc:t.videoSrc},on:{videoChange:function(e){arguments[0]=e=t.$handleEvent(e),t.videoChange.apply(void 0,arguments)}}})],1):t._e(),2==t.isSelect?i("v-uni-view",[i("figure-view",{attrs:{videoSrc:t.videoSrc}})],1):t._e(),3==t.isSelect?i("v-uni-view",{staticClass:"ac mt90"},[i("uni-icons",{attrs:{type:"checkbox-filled",size:"66",color:"#43CF80"}}),i("v-uni-view",{staticClass:"text mt30"},[t._v("上传成功，正在生成中...")]),i("v-uni-view",{staticClass:"text mt10"},[t._v("大约需要10分钟")]),i("v-uni-button",{staticClass:"btn mt90 width178",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("返回首页")])],1):t._e()],1)},o=[]},"815f":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("8a6b"),a=i("5c7b"),o={name:"figure-sure",props:{videoUrl:{type:String,default:""},tempFile:"",doctorName:{type:String,default:""}},data:function(){return{text:"文字检测中...",isSbm:!1}},mounted:function(){this.getDoctorName()},methods:{handleChange:function(){this.$emit("change")},onclick:function(){var t=this;if(!this.isSbm){var e={doctorId:uni.getStorageSync("doctorId"),file:this.videoUrl};(0,n.uploadauth)(e).then((function(e){if(console.log(e),0===e.status)return t.videoUrl=e.data,void t.$emit("change",e.data)}))}},getDoctorName:function(){var t=this,e={doctorId:uni.getStorageSync("doctorId"),doctorName:this.doctorName};(0,a.isdoctorauth)(e).then((function(e){console.log(e),null!==e&&void 0!==e&&e.data?(t.isSbm=!0,t.text="授权文字内容检测一致"):(t.isSbm=!1,t.text="您上传的授权视频不符合要求，请按脚本的内容清晰阅读")}))}}};e.default=o},"879d":function(t,e,i){"use strict";i.r(e);var n=i("daea"),a=i("f6dc");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("cd2e");var r=i("828b"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"ab388bda",null,!1,n["a"],void 0);e["default"]=c.exports},"8a6b":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.authdelelte=function(t){return(0,n.uploadFile)({url:"/doctor/file/authdelelte",method:"POST",data:t})},e.drivedelelte=function(t){return upload({url:"/doctor/file/drivedelelte",method:"POST",data:t})},e.uploadauth=function(t){return(0,n.uploadFile)({url:"/doctor/file/uploadauth",method:"POST",data:t})},e.uploaddrive=function(t){return(0,n.uploadFile)({url:"/doctor/file/uploaddrive",method:"POST",data:t})};var n=i("08ed")},"8aed":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{isSelect:1,videoSrc:"",isMaterial:!0}},mounted:function(){var t=this.$route.query,e=t.isSelect,i=t.videoSrc;e&&(console.log(i),this.isSelect=e,this.videoSrc=JSON.parse(i))},methods:{videoChange:function(t){console.log("e====",t),this.isSelect=2,this.videoSrc=t},handleChange:function(t){this.isSelect=t},back:function(){uni.reLaunch({url:"/pages/home/index"})}}};e.default=n},"8db3":function(t,e,i){"use strict";i.r(e);var n=i("36a7"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},9427:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.showConfirm=function(t){return new Promise((function(e,i){uni.showModal({content:t,success:function(t){e(t)}})}))},e.tansParams=function(t){for(var e="",i=0,n=Object.keys(t);i<n.length;i++){var o=n[i],r=t[o],c=encodeURIComponent(o)+"=";if(null!==r&&""!==r&&"undefined"!==typeof r)if("object"===(0,a.default)(r))for(var s=0,u=Object.keys(r);s<u.length;s++){var d=u[s];if(null!==r[d]&&""!==r[d]&&"undefined"!==typeof r[d]){var l=o+"["+d+"]",f=encodeURIComponent(l)+"=";e+=f+encodeURIComponent(r[d])+"&"}}else e+=c+encodeURIComponent(r)+"&"}return e},e.toast=function(t){uni.showToast({icon:"none",title:t})};var a=n(i("fcf3"));i("bf0f"),i("dc8a")},9674:function(t,e,i){"use strict";var n=i("aeb2"),a=i.n(n);a.a},a4c6:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".video-box[data-v-ab388bda]{width:333px;height:269px;border-radius:8px;position:relative;margin:20px auto;background-color:#787878}.trash-box[data-v-ab388bda]{width:290px;height:61px;opacity:1;border-radius:4px;background:rgba(0,0,0,.4980392156862745);z-index:999;display:flex;align-items:center;justify-content:center;color:#fff;position:absolute;top:80px;left:20px}.video[data-v-ab388bda]{width:333px;height:269px;border-radius:8px;position:absolute;top:0;left:0;z-index:99}.img[data-v-ab388bda]{width:124px;height:204px;border-radius:8px}.text1[data-v-ab388bda]{font-size:14px;font-weight:400;color:#000}.text2[data-v-ab388bda]{font-size:14px;font-weight:400;color:grey}.btn1[data-v-ab388bda]{width:163px;height:40px;line-height:40px;border-radius:18px;border:1px solid #e5e5e5;font-size:14px;font-weight:400}.btn2[data-v-ab388bda]{width:163px;height:40px;line-height:40px;border-radius:18px;background:#2fb3fb;font-size:14px;font-weight:400;color:#fff}",""]),t.exports=e},a645:function(t,e,i){"use strict";i.r(e);var n=i("ca27"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a861:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"}},aeb2:function(t,e,i){var n=i("7816");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("e39a0ae0",n,!0,{sourceMap:!1,shadowMode:!1})},bcc1:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("ae14").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"camera-box"},[i("v-uni-view",{staticClass:"flex-between"},[i("uni-icons",{attrs:{type:"closeempty",size:"25",color:"#FFFFFF"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handelClose.apply(void 0,arguments)}}}),i("uni-icons",{attrs:{type:"loop",size:"25",color:"#FFFFFF"}})],1),i("v-uni-view",{staticClass:"camera-bor"},[1==t.isMaterial?i("v-uni-view",{staticClass:"camera-text"},[i("v-uni-view",{staticClass:"text1"},[t._v("录制时可以自然微笑，保持放松")]),i("v-uni-view",{staticClass:"text2"},[t._v("您好！我现在感觉很好，语调很轻，我很有信心能做好这次视频录制。我现在就在镜头前，准备开始。")]),i("v-uni-view",{staticClass:"text1"},[t._v("闭上嘴，用鼻子呼吸，停顿1s")]),i("v-uni-view",{staticClass:"text2"},[t._v("光线很好，我脸上没有任何刺眼的")])],1):t._e(),2==t.isMaterial?i("v-uni-view",{staticClass:"camera-text text2"},[t._v("我 "+t._s(t.text)+" 本人特此声明，授权拓诊使用我的视频创作数字人")]):t._e()],1),t.isTake&&t.number>0?i("v-uni-view",{staticClass:"number ac"},[t._v(t._s(t.number))]):t._e(),t.isTake?t._e():i("v-uni-button",{staticClass:"btn mt90 width178",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.takePhoto.apply(void 0,arguments)}}},[t._v("开始录制")])],1)],1)},o=[]},c30b:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("ae14").default,material:i("fab3").default,figureSure:i("879d").default,uniPopup:i("defc").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[0==t.isMaterial?i("v-uni-view",[i("v-uni-view",{staticClass:"ac mt30 mb30"},[i("v-uni-video",{staticClass:"video",attrs:{src:t.videoSrc,type:"video/mp4",autoplay:!0}})],1),i("v-uni-view",{staticClass:"text1 pl30 mb30 pr30"},[t._v("为了防止滥用技术，我们需要确认刚刚提交的视频是你本人")]),t.videoUrl?i("v-uni-view",{staticClass:"ac"},[i("v-uni-video",{staticClass:"video",attrs:{src:t.videoUrl}})],1):i("v-uni-view",{staticClass:"up-box ac"},[i("uni-icons",{attrs:{type:"camera",size:"35"}}),i("v-uni-view",{staticClass:"text2 mt20"},[t._v("请确保与刚才拍摄提交的视频为同一人")]),i("v-uni-button",{staticClass:"btn width178 mt30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSbm.apply(void 0,arguments)}}},[t._v("确认提交")])],1),t.videoSrc?i("v-uni-button",{staticClass:"btn2 mt30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSubmit.apply(void 0,arguments)}}},[t._v("确认提交")]):t._e()],1):t._e(),1==t.isMaterial?i("material",{attrs:{isMaterial:2,text:t.name},on:{videoSrc:function(e){arguments[0]=e=t.$handleEvent(e),t.getVideoSrc.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCancel.apply(void 0,arguments)}}}):t._e(),2==t.isMaterial?i("figure-sure",{attrs:{videoUrl:t.videoUrl,tempFile:t.tempFile,doctorName:t.name},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange.apply(void 0,arguments)}}}):t._e(),i("uni-popup",{ref:"popup",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-view",{staticClass:"title"},[t._v("授权提示")]),i("v-uni-view",{staticClass:"flex-start in-text"},[i("v-uni-text",{staticClass:"mr10"},[t._v("我")]),i("v-uni-input",{staticClass:"input",model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("v-uni-text",{staticClass:"ml10"},[t._v("将对拓诊进行授权")])],1),i("v-uni-view",{staticClass:"bor-t mt30"},[i("v-uni-button",{staticClass:"btn-text",attrs:{type:"text"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSure.apply(void 0,arguments)}}},[t._v("确认提交")])],1)],1)],1)],1)},o=[]},ca27:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("7a7d"),a=i("ef20"),o={name:"figure-view",props:{videoSrc:{type:String,default:"https://cds.oss-cn-.aliyuncs.com/717b994295694782a6600b002aa3b493.mp4"}},data:function(){return{isMaterial:0,isSbt:!0,name:"",videoUrl:"",tempFile:""}},methods:{handleSbm:function(){this.$refs.popup.open()},handleSure:function(t){this.$refs.popup.close(),this.isMaterial=1},handleCancel:function(){this.isMaterial=0},cancel:function(){this.isMaterial=2},handleChange:function(t){this.isMaterial=0,t&&(this.videoUrl=t)},handleSubmit:function(t){if(this.videoSrc){var e={name:uni.getStorageSync("doctorId"),material_video:this.videoSrc,callback:"https://xx.com",train_type:""};(0,a.createCustomisedPerson)(e).then((function(t){if(0===(null===t||void 0===t?void 0:t.code)){var e={cloneId:t.data,doctorId:uni.getStorageSync("doctorId")};(0,n.savedoctorclone)(e).then((function(t){0===t.status&&(uni.showToast({title:"创建数字人成功",icon:"none"}),setTimeout((function(){uni.reLaunch({url:"/pages/home/index"})}),1e3))}))}}))}},getVideoSrc:function(t){this.videoUrl=t.tempFilePath,this.tempFile=t.tempFile,this.isMaterial=2}}};e.default=o},cd2e:function(t,e,i){"use strict";var n=i("0948"),a=i.n(n);a.a},d52e:function(t,e,i){"use strict";i.r(e);var n=i("2eeb"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},d5b7:function(t,e,i){"use strict";i.r(e);var n=i("7dc9"),a=i("fa27");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("9674");var r=i("828b"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"53cb8b9c",null,!1,n["a"],void 0);e["default"]=c.exports},daea:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"video-box"},[i("v-uni-view",{staticClass:"trash-box"},[t._v(t._s(t.text))]),i("v-uni-video",{staticClass:"video",attrs:{src:t.videoUrl,type:"video/mp4"}})],1),i("v-uni-view",{staticClass:"flex-between mt30"},[i("v-uni-button",{staticClass:"btn1 width178",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange.apply(void 0,arguments)}}},[t._v("重新授权")]),i("v-uni-button",{staticClass:"width178",class:t.isSbm?"btn2":"btn1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onclick.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},a=[]},e366:function(t,e,i){"use strict";i.r(e);var n=i("4e28"),a=i("d52e");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("78d1");var r=i("828b"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"4ece3097",null,!1,n["a"],void 0);e["default"]=c.exports},e36f:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".video-box[data-v-4ece3097]{width:333px;height:269px;border-radius:8px;position:relative;margin:20px auto}.trash-box[data-v-4ece3097]{width:38px;height:38px;border-radius:50%;background:#fff;position:absolute;top:10px;right:10px;z-index:999;display:flex;align-items:center;justify-content:center}.video[data-v-4ece3097]{width:333px;height:269px;border-radius:8px;position:absolute;top:0;left:0;z-index:99}.text1[data-v-4ece3097]{font-size:14px;font-weight:400;color:#000}.text2[data-v-4ece3097]{font-size:14px;font-weight:400;color:grey}.mt90[data-v-4ece3097]{margin-top:90px}.btn1[data-v-4ece3097]{border-radius:30px;background:#f2f2f2;color:grey}",""]),t.exports=e},ec6b:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5de6"));i("f7a5"),i("bf0f");var o=n(i("b9fd")),r=(i("3079"),n(i("a861")),i("9427")),c=o.default.baseUrl,s=function(t){if(t.params){var e=t.url+"?"+(0,r.tansParams)(t.params);e=e.slice(0,-1),t.url=e}return new Promise((function(e,i){uni.request({method:t.method||"get",url:c+t.url,data:t.data,header:{"Access-Control-Allow-Origin":"","Content-Type":"application/json"}}).then((function(t){var n=(0,a.default)(t,2),o=(n[0],n[1]),c=o.data.status||0,s=o.data.msg;0==c?e(o.data):1!==c&&(s&&(0,r.toast)(s),i(o.data))})).catch((function(t){i(t)}))}))};e.default=s},f3cf:function(t,e,i){var n=i("307e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("313d1714",n,!0,{sourceMap:!1,shadowMode:!1})},f6dc:function(t,e,i){"use strict";i.r(e);var n=i("815f"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},fa27:function(t,e,i){"use strict";i.r(e);var n=i("8aed"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},fab3:function(t,e,i){"use strict";i.r(e);var n=i("bcc1"),a=i("8db3");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("4660");var r=i("828b"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"115963b8",null,!1,n["a"],void 0);e["default"]=c.exports}}]);