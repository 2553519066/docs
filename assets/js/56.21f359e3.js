(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{367:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"文件处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件处理"}},[t._v("#")]),t._v(" 文件处理")]),t._v(" "),s("p",[t._v("常用的文件上传下载相关的函数")]),t._v(" "),s("h2",{attrs:{id:"formatfilesize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#formatfilesize"}},[t._v("#")]),t._v(" formatFileSize")]),t._v(" "),s("ul",[s("li",[t._v("参数："),s("code",[t._v("{Number} value 文件大小（单位：字节 Byte）")])]),t._v(" "),s("li",[t._v("返回值："),s("code",[t._v("{String}")])]),t._v(" "),s("li",[t._v("说明：转换为带单位的文件大小")]),t._v(" "),s("li",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("formatFileSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 488.28K")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("formatFileSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 976.56M")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("formatFileSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.77G")]),t._v("\n")])])]),s("h2",{attrs:{id:"dataurl2file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dataurl2file"}},[t._v("#")]),t._v(" dataURL2File")]),t._v(" "),s("ul",[s("li",[t._v("参数：\n"),s("ul",[s("li",[s("code",[t._v("{String} value base64 数据字符串")])]),t._v(" "),s("li",[s("code",[t._v("{String} fileName 文件名")])])])]),t._v(" "),s("li",[t._v("返回值："),s("code",[t._v("{File}")])]),t._v(" "),s("li",[t._v("说明：将 base64 数据转为 File 对象")]),t._v(" "),s("li",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dataURL2File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("data:image/png;base64,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")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ios.png'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// File 见下方")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lastModified"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1600918623825")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lastModifiedDate"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Thu Sep 24 2020 11:37:03 GMT+0800 (中国标准时间)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ios.png"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"size"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1697")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"image/png"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"webkitRelativePath"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"file2dataurl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file2dataurl"}},[t._v("#")]),t._v(" file2DataURL")]),t._v(" "),s("ul",[s("li",[t._v("参数："),s("code",[t._v("{File} file 文件对象")])]),t._v(" "),s("li",[t._v("返回值："),s("code",[t._v("{Promise -> String}")])]),t._v(" "),s("li",[t._v("说明：将 File 对象转 base64 数据")]),t._v(" "),s("li",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file2DataURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ios.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image/png'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("base64")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// data:image/png;base64,MTIzZQ==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"capturevideoframe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#capturevideoframe"}},[t._v("#")]),t._v(" captureVideoFrame")]),t._v(" "),s("ul",[s("li",[t._v("参数："),s("code",[t._v("{String} url 视频地址")])]),t._v(" "),s("li",[t._v("返回值："),s("code",[t._v("{Promise -> String}")])]),t._v(" "),s("li",[t._v("说明：截取视频的第一帧 base64 图片")]),t._v(" "),s("li",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("captureVideoFrame")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("base64")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// data:image/png;base64,..................")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"getimageoriginsize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getimageoriginsize"}},[t._v("#")]),t._v(" getImageOriginSize")]),t._v(" "),s("ul",[s("li",[t._v("参数："),s("code",[t._v("{String | File} img 图片地址或图片文件对象")])]),t._v(" "),s("li",[t._v("返回值："),s("code",[t._v("{Promise -> Object}")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("{Number} width 图片宽度")])]),t._v(" "),s("li",[s("code",[t._v("{Number} height 图片高度")])])])]),t._v(" "),s("li",[t._v("说明：获取图片的原始尺寸")]),t._v(" "),s("li",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getImageOriginSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://s1.ax1x.com/2020/09/24/0SSYHH.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {width: 1920, height: 1080}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);