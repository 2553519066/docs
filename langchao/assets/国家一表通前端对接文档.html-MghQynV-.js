import{_ as n,c as a,e as p,o as t}from"./app-Djabw3S-.js";const e={};function o(l,s){return t(),a("div",null,[...s[0]||(s[0]=[p(`<h1 id="nationalsystemcontroller-前端对接文档" tabindex="-1"><a class="header-anchor" href="#nationalsystemcontroller-前端对接文档"><span>NationalSystemController 前端对接文档</span></a></h1><h2 id="接口概览" tabindex="-1"><a class="header-anchor" href="#接口概览"><span>接口概览</span></a></h2><p><code>NationalSystemController</code> 提供国家一表通系统对接相关的接口，主要用于部门同步、文件下载、报表和任务管理、数据项查询、模板下载、任务业务表关联等功能。</p><p><strong>基础路径</strong>: <code>/api/nationalsystem</code></p><p><strong>认证方式</strong>:</p><ul><li>当前配置为 <code>[AllowAnonymous]</code>，但根据需求可能需要改为 <code>[Authorize]</code></li></ul><hr><h2 id="接口详情" tabindex="-1"><a class="header-anchor" href="#接口详情"><span>接口详情</span></a></h2><h3 id="_1-部门同步接口" tabindex="-1"><a class="header-anchor" href="#_1-部门同步接口"><span>1. 部门同步接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/department/sync</code></p><p><strong>功能描述</strong>: 同步部门信息到系统</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;provinceCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// 部门所属省编码，标准行政区划代码，必填，最大20字符</span></span>
<span class="line">  <span class="token property">&quot;deptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 部门编码，省内唯一编码，必填，最大50字符</span></span>
<span class="line">  <span class="token property">&quot;deptName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 部门全称，必填，最大100字符</span></span>
<span class="line">  <span class="token property">&quot;deptShortName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 部门简称，可选，最大50字符</span></span>
<span class="line">  <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token number">1</span>                 <span class="token comment">// 操作类型：1-新增、2-更新、3-禁用/删除，必填</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码，200表示成功</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>             <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳，格式：yyyy-mm-ddThh:mm:ss</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>操作类型说明</strong>:</p><ul><li><code>1</code>: 新增部门</li><li><code>2</code>: 更新部门信息</li><li><code>3</code>: 禁用/删除部门</li></ul><p><strong>状态码说明</strong>:</p><ul><li><code>200</code>: 成功</li><li><code>400</code>: 请求参数错误</li><li><code>500</code>: 服务器内部错误</li></ul><hr><h3 id="_2-文件下载接口" tabindex="-1"><a class="header-anchor" href="#_2-文件下载接口"><span>2. 文件下载接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/file/download</code></p><p><strong>功能描述</strong>: 根据文件编码下载文件</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;fileCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 文件编码，必填</span></span>
<span class="line">  <span class="token property">&quot;range&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>              <span class="token comment">// 断点续传范围，格式：bytes=0-1048575，可选</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>             <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意事项</strong>:</p><ul><li>成功时文件内容通过HTTP响应体返回</li><li>支持断点续传功能</li><li>文件下载失败时返回错误信息</li></ul><hr><h3 id="_3-获取报表分发列表" tabindex="-1"><a class="header-anchor" href="#_3-获取报表分发列表"><span>3. 获取报表分发列表</span></a></h3><p><strong>接口地址</strong>: <code>GET /api/nationalsystem/reports</code></p><p><strong>功能描述</strong>: 分页查询报表分发信息</p><p><strong>请求参数</strong> (Query Parameters):</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">skipCount=0                     // 跳过记录数，从0开始，默认0</span>
<span class="line">maxResultCount=10               // 每页最大结果数，默认10</span>
<span class="line">sorting=reportName desc         // 排序字段，可选</span>
<span class="line">reportName=string               // 报表名称，支持模糊查询，可选</span>
<span class="line">reportCode=string               // 报表编码，精确匹配，可选</span>
<span class="line">reportVersion=string            // 报表版本，精确匹配，可选</span>
<span class="line">dispatchDeptCode=string         // 派发部委编码，精确匹配，可选</span>
<span class="line">recvDeptCode=string             // 接收部门编码，精确匹配，可选</span>
<span class="line">updateFrequency=1               // 更新频次：0-日报，1-周报，2-月报，3-季报，4-半年报，5-年报，6-按需填报，可选</span>
<span class="line">fillLevel=2                     // 填报层级：0-国家级，1-省（市）级，2-市（州）级，3-区（县）级，4-镇（街道）级，5-村（社区）级，6-网格级，可选</span>
<span class="line">distributionMethod=1            // 报表下发方式：1-常态报表，2-临时报表，可选</span>
<span class="line">operation=1                     // 操作类型：0-新增报表；1-报表更新，可选</span>
<span class="line">isExited=false                  // 是否已退出，可选</span>
<span class="line">lastDistributeTimeStart=2024-01-01T00:00:00 // 开始分发时间范围查询，可选</span>
<span class="line">lastDistributeTimeEnd=2024-12-31T23:59:59   // 结束分发时间范围查询，可选</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token comment">// 报表列表</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 报表ID (GUID)</span></span>
<span class="line">      <span class="token property">&quot;reportName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 报表完整名称，≤200字符</span></span>
<span class="line">      <span class="token property">&quot;reportCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 国家系统统一编码，全局唯一</span></span>
<span class="line">      <span class="token property">&quot;reportVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 报表版本号，如V1</span></span>
<span class="line">      <span class="token property">&quot;dispatchDeptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 报表派发部委编码</span></span>
<span class="line">      <span class="token property">&quot;dispatchDeptName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 派发部委名称</span></span>
<span class="line">      <span class="token property">&quot;dispatchDeptFullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 派发部门全称</span></span>
<span class="line">      <span class="token property">&quot;recvDeptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 接收部门编码（省级）</span></span>
<span class="line">      <span class="token property">&quot;recvDeptName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 接受部门名称</span></span>
<span class="line">      <span class="token property">&quot;updateFrequency&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// 更新频次：0-日报，1-周报，2-月报，3-季报，4-半年报，5-年报，6-按需填报</span></span>
<span class="line">      <span class="token property">&quot;fillLevel&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>           <span class="token comment">// 填报层级：0-国家级，1-省（市）级，2-市（州）级，3-区（县）级，4-镇（街道）级，5-村（社区）级，6-网格级</span></span>
<span class="line">      <span class="token property">&quot;distributionMethod&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment">// 报表下发方式：1-常态报表，2-临时报表</span></span>
<span class="line">      <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>           <span class="token comment">// 操作类型：0-新增报表；1-报表更新</span></span>
<span class="line">      <span class="token property">&quot;workBasis&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 工作依据文字描述，≤500字符</span></span>
<span class="line">      <span class="token property">&quot;workBasisFileName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 工作依据文件名称</span></span>
<span class="line">      <span class="token property">&quot;workBasisFileId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 工作依据文件ID</span></span>
<span class="line">      <span class="token property">&quot;workBasisFileSize&quot;</span><span class="token operator">:</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token comment">// 工作依据文件大小（字节）</span></span>
<span class="line">      <span class="token property">&quot;workBasisFileSm3Digest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 工作依据文件SM3摘要值</span></span>
<span class="line">      <span class="token property">&quot;reportSampleFileName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 报表样例文件名称</span></span>
<span class="line">      <span class="token property">&quot;reportSampleFileId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 报表样例文件ID</span></span>
<span class="line">      <span class="token property">&quot;reportSampleFileSize&quot;</span><span class="token operator">:</span> <span class="token number">2048</span><span class="token punctuation">,</span> <span class="token comment">// 报表样例文件大小（字节）</span></span>
<span class="line">      <span class="token property">&quot;reportSampleFileSm3Digest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 报表样例文件SM3摘要值</span></span>
<span class="line">      <span class="token property">&quot;dataItemFileName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据项文件名称</span></span>
<span class="line">      <span class="token property">&quot;dataItemFileId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据项文件ID</span></span>
<span class="line">      <span class="token property">&quot;dataItemFileSize&quot;</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token comment">// 数据项文件大小（字节）</span></span>
<span class="line">      <span class="token property">&quot;dataItemFileSm3Digest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据项文件SM3摘要值</span></span>
<span class="line">      <span class="token property">&quot;lastDistributeTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后分发时间</span></span>
<span class="line">      <span class="token property">&quot;isExited&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token comment">// 是否已退出</span></span>
<span class="line">      <span class="token property">&quot;exitTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 退出时间</span></span>
<span class="line">      <span class="token property">&quot;exitReason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 退出原因</span></span>
<span class="line">      <span class="token property">&quot;creationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间</span></span>
<span class="line">      <span class="token property">&quot;creatorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 创建者ID</span></span>
<span class="line">      <span class="token property">&quot;lastModificationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后修改时间</span></span>
<span class="line">      <span class="token property">&quot;lastModifierId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后修改者ID</span></span>
<span class="line">      <span class="token property">&quot;isDeleted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>       <span class="token comment">// 是否已删除</span></span>
<span class="line">      <span class="token property">&quot;deleterId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 删除者ID</span></span>
<span class="line">      <span class="token property">&quot;deletionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 删除时间</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;totalCount&quot;</span><span class="token operator">:</span> <span class="token number">100</span>            <span class="token comment">// 总记录数</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_4-获取任务分发列表" tabindex="-1"><a class="header-anchor" href="#_4-获取任务分发列表"><span>4. 获取任务分发列表</span></a></h3><p><strong>接口地址</strong>: <code>GET /api/nationalsystem/tasks</code></p><p><strong>功能描述</strong>: 分页查询任务分发信息</p><p><strong>请求参数</strong> (Query Parameters):</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">skipCount=0                     // 跳过记录数，从0开始，默认0</span>
<span class="line">maxResultCount=10               // 每页最大结果数，默认10</span>
<span class="line">sorting=taskName desc           // 排序字段，可选</span>
<span class="line">taskName=string                 // 任务名称，支持模糊查询，可选</span>
<span class="line">parentTaskCode=string           // 父任务编号，精确匹配，可选</span>
<span class="line">taskCode=string                 // 任务编号，精确匹配，可选</span>
<span class="line">reportCode=string               // 关联报表编码，精确匹配，可选</span>
<span class="line">reportVersion=string            // 关联报表版本，精确匹配，可选</span>
<span class="line">recvDeptCode=string             // 接收部门编码，精确匹配，可选</span>
<span class="line">issueDeptCode=string            // 下发部委编码，精确匹配，可选</span>
<span class="line">taskType=1                      // 任务类型：1-一次性、2-周期性，可选</span>
<span class="line">taskStatus=2                    // 任务状态：1-待签收、2-进行中、3-已完成</span>
<span class="line">action=1                        // 操作类型：1-催办、2-撤销，可选</span>
<span class="line">startTimeStart=2024-01-01T00:00:00 // 任务开始时间范围查询，可选</span>
<span class="line">startTimeEnd=2024-12-31T23:59:59   // 任务开始时间范围查询，可选</span>
<span class="line">endTimeStart=2024-01-01T00:00:00   // 任务结束时间范围查询，可选</span>
<span class="line">endTimeEnd=2024-12-31T23:59:59     // 任务结束时间范围查询，可选</span>
<span class="line">lastDistributeTimeStart=2024-01-01T00:00:00 // 最后分发时间范围查询，可选</span>
<span class="line">lastDistributeTimeEnd=2024-12-31T23:59:59   // 最后分发时间范围查询，可选</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token comment">// 任务列表</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务ID (GUID)</span></span>
<span class="line">      <span class="token property">&quot;taskName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 任务名称，≤200字符</span></span>
<span class="line">      <span class="token property">&quot;parentTaskCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 父任务编号</span></span>
<span class="line">      <span class="token property">&quot;parentStartTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T00:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 父任务开始时间</span></span>
<span class="line">      <span class="token property">&quot;parentEndTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-12-31T23:59:59&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 父任务截至时间</span></span>
<span class="line">      <span class="token property">&quot;taskCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 国家系统生成的全局唯一任务编号</span></span>
<span class="line">      <span class="token property">&quot;reportCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 关联报表编码</span></span>
<span class="line">      <span class="token property">&quot;reportName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 关联报表名称</span></span>
<span class="line">      <span class="token property">&quot;reportVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 关联报表版本</span></span>
<span class="line">      <span class="token property">&quot;recvDeptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 接收部门编码（省级）</span></span>
<span class="line">      <span class="token property">&quot;recvDeptName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 接收部门名称</span></span>
<span class="line">      <span class="token property">&quot;issueDeptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 下发部委编码</span></span>
<span class="line">      <span class="token property">&quot;issueDeptName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 下发部委名称</span></span>
<span class="line">      <span class="token property">&quot;issueDeptFullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 下发部门全称</span></span>
<span class="line">      <span class="token property">&quot;startTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T00:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务开始时间</span></span>
<span class="line">      <span class="token property">&quot;endTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-12-31T23:59:59&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 任务截止时间</span></span>
<span class="line">      <span class="token property">&quot;taskDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 任务描述，≤1000字符</span></span>
<span class="line">      <span class="token property">&quot;taskType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token comment">// 任务类型：1-一次性、2-周期性</span></span>
<span class="line">      <span class="token property">&quot;taskFileName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务附件名称</span></span>
<span class="line">      <span class="token property">&quot;taskFileId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// 任务附件ID</span></span>
<span class="line">      <span class="token property">&quot;taskFileSize&quot;</span><span class="token operator">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>     <span class="token comment">// 任务附件大小（字节）</span></span>
<span class="line">      <span class="token property">&quot;taskFileSm3Digest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务附件SM3摘要值</span></span>
<span class="line">      <span class="token property">&quot;taskDataFileName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务数据附件名称</span></span>
<span class="line">      <span class="token property">&quot;taskDataFileId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务数据附件ID</span></span>
<span class="line">      <span class="token property">&quot;taskDataFileSize&quot;</span><span class="token operator">:</span> <span class="token number">2048</span><span class="token punctuation">,</span> <span class="token comment">// 任务数据附件大小（字节）</span></span>
<span class="line">      <span class="token property">&quot;taskDataFileSm3Digest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务数据附件SM3摘要值</span></span>
<span class="line">      <span class="token property">&quot;fillFrequency&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>       <span class="token comment">// 任务填报频率 1-实时 2-每日 3-每周 4-每月 5-每季度 6-每半年 7-每年 8-其他</span></span>
<span class="line">      <span class="token property">&quot;cycleNumber&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>        <span class="token comment">// 任务周期数，仅周期任务有值</span></span>
<span class="line">      <span class="token property">&quot;lastDistributeTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后分发时间</span></span>
<span class="line">      <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment">// 操作类型：1-催办、2-撤销</span></span>
<span class="line">      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>              <span class="token comment">// 进展类型：1-异议数据(不通过)、2-任务完成</span></span>
<span class="line">      <span class="token property">&quot;taskStatus&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>           <span class="token comment">// 任务状态：1-待签收、2-进行中、3-已完成</span></span>
<span class="line">      <span class="token property">&quot;taskStatusTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务状态更新时间</span></span>
<span class="line">      <span class="token property">&quot;taskActionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 操作类型更新时间</span></span>
<span class="line">      <span class="token property">&quot;taskStatusRemark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务状态说明</span></span>
<span class="line">      <span class="token property">&quot;taskActionRemark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 操作说明</span></span>
<span class="line">      <span class="token property">&quot;childTasks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> ... <span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token comment">// 子任务列表(递归)</span></span>
<span class="line">      <span class="token property">&quot;creationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间</span></span>
<span class="line">      <span class="token property">&quot;creatorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 创建者ID</span></span>
<span class="line">      <span class="token property">&quot;lastModificationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后修改时间</span></span>
<span class="line">      <span class="token property">&quot;lastModifierId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后修改者ID</span></span>
<span class="line">      <span class="token property">&quot;isDeleted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>       <span class="token comment">// 是否已删除</span></span>
<span class="line">      <span class="token property">&quot;deleterId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 删除者ID</span></span>
<span class="line">      <span class="token property">&quot;deletionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 删除时间</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;totalCount&quot;</span><span class="token operator">:</span> <span class="token number">50</span>             <span class="token comment">// 总记录数</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_5-报表状态反馈接口" tabindex="-1"><a class="header-anchor" href="#_5-报表状态反馈接口"><span>5. 报表状态反馈接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/report/feedback</code></p><p><strong>功能描述</strong>: 反馈报表处理状态</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;deptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 省级部门编码，必填</span></span>
<span class="line">  <span class="token property">&quot;reportCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 国家系统统一下发的报表编码，必填</span></span>
<span class="line">  <span class="token property">&quot;reportVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 接收到的版本号，用于版本一致性校验，必填</span></span>
<span class="line">  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                  <span class="token comment">// 状态枚举：1-待签收，2-已签收，3-拒绝，4-完成建表，必填</span></span>
<span class="line">  <span class="token property">&quot;statusTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 状态发生时间，ISO8601格式，必填</span></span>
<span class="line">  <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>            <span class="token comment">// 附加说明，≤200字，状态为拒绝时必填</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>             <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>状态说明</strong>:</p><ul><li><code>1</code>: 待签收</li><li><code>2</code>: 已签收</li><li><code>3</code>: 拒绝（需要填写remark）</li><li><code>4</code>: 完成建表</li></ul><hr><h3 id="_6-数据项查询接口" tabindex="-1"><a class="header-anchor" href="#_6-数据项查询接口"><span>6. 数据项查询接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/data-items-query</code></p><p><strong>功能描述</strong>: 根据数据项编码列表从国家系统查询对应数据项详情列表。如果请求列表为空则全量返回数据项详情。</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;codes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token comment">// 数据项编码（全局唯一）列表，可选</span></span>
<span class="line">    <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>                   <span class="token comment">// 数据项编码，最大100字符</span></span>
<span class="line">    <span class="token string">&quot;string&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                  <span class="token comment">// 响应代码，200表示成功</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>            <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 响应时间戳，格式：yyyy-MM-ddTHH:mm:ss</span></span>
<span class="line">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>                     <span class="token comment">// 数据项信息集合</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 数据项编码（全局唯一）</span></span>
<span class="line">      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 数据项名称</span></span>
<span class="line">      <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 数据项含义</span></span>
<span class="line">      <span class="token property">&quot;fillRequire&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 填报要求</span></span>
<span class="line">      <span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>      <span class="token comment">// 数据类型</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>请求参数说明</strong>:</p><ul><li><code>codes</code>: 数据项编码列表，如果为空或null则全量返回所有数据项详情</li><li>单次查询数据项数量不能超过1000个</li><li>数据项编码不能为空字符串，长度不能超过100个字符</li></ul><p><strong>使用场景</strong>:</p><ul><li>查询指定数据项的详细信息</li><li>全量获取所有数据项信息（当codes为空时）</li><li>数据项信息用于报表填报和数据理解</li></ul><hr><h3 id="_7-任务状态反馈接口" tabindex="-1"><a class="header-anchor" href="#_7-任务状态反馈接口"><span>7. 任务状态反馈接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/task/feedback</code></p><p><strong>功能描述</strong>: 反馈任务执行状态</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;taskCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 国家系统原下发的任务编号，必填</span></span>
<span class="line">  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                  <span class="token comment">// 状态枚举：1-待签收，2-进行中、3-已完成，必填</span></span>
<span class="line">  <span class="token property">&quot;recvDeptCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 接收部门编码，必填，3-50字符</span></span>
<span class="line">  <span class="token property">&quot;taskDataFile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>             <span class="token comment">// 任务数据文件，status=3时必填</span></span>
<span class="line">    <span class="token property">&quot;fileName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 文件名，必填，最大255字符</span></span>
<span class="line">    <span class="token property">&quot;fileId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 文件Id</span></span>
<span class="line">    <span class="token property">&quot;fileSize&quot;</span><span class="token operator">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>           <span class="token comment">// 文件大小（字节），必填，必须大于0且≤100MB</span></span>
<span class="line">    <span class="token property">&quot;sm3Digest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>         <span class="token comment">// 文件MD5值，用于文件完整性校验，必填，32位十六进制字符串</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>            <span class="token comment">// 补充说明信息，可选，≤500字</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>             <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>状态说明</strong>:</p><ul><li><code>1</code>: 待签收</li><li><code>2</code>: 进行中</li><li><code>3</code>: 已完成（需要提供taskDataFile）</li></ul><hr><h3 id="_8-下载数据项模板文件接口" tabindex="-1"><a class="header-anchor" href="#_8-下载数据项模板文件接口"><span>8. 下载数据项模板文件接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/data-item-template/download</code></p><p><strong>功能描述</strong>: 下载数据项模板文件，用户交互填报需要的文件</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;reportCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>       <span class="token comment">// 报表编码，必填</span></span>
<span class="line">  <span class="token property">&quot;range&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>             <span class="token comment">// 断点续传范围，格式：bytes=0-1048575，可选</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><ul><li><strong>成功</strong>: 直接返回CSV文件流到浏览器，可通过以下参数获取： <ul><li><code>Content-Type</code>: 文件MIME类型，默认为 <code>text/csv</code></li><li><code>Content-Disposition</code>: 包含文件名的下载头信息</li></ul></li><li><strong>失败</strong>:</li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误描述&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 错误信息</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误代码&quot;</span>             <span class="token comment">// 错误代码</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用说明</strong>:</p><ul><li>接口返回标准的CSV文件流，前端可直接处理为文件下载</li><li>支持断点续传功能，可通过range参数指定下载范围</li><li>报表编码用于标识不同的数据项模板</li><li>文件名由后端动态生成，包含报表相关信息</li></ul><p><strong>cURL 示例</strong>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 下载数据项模板文件</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/data-item-template/download&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;reportCode&quot;: &quot;1010000000096&quot;</span>
<span class="line">  }&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--output</span> template.csv</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 断点续传下载</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/data-item-template/download&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Range: bytes=0-1048575&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;reportCode&quot;: &quot;1010000000096&quot;,</span>
<span class="line">    &quot;range&quot;: &quot;bytes=0-1048575&quot;</span>
<span class="line">  }&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--output</span> template.csv</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>JavaScript/TypeScript 示例</strong>:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// 下载数据项模板文件</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">downloadDataItemTemplate</span><span class="token punctuation">(</span>reportCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> range<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/nationalsystem/data-item-template/download&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token operator">...</span><span class="token punctuation">(</span>range <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;Range&#39;</span><span class="token operator">:</span> range <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      reportCode<span class="token punctuation">,</span></span>
<span class="line">      <span class="token operator">...</span><span class="token punctuation">(</span>range <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> range <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// 获取文件名</span></span>
<span class="line">  <span class="token keyword">const</span> contentDisposition <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;content-disposition&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> fileName <span class="token operator">=</span> contentDisposition</span>
<span class="line">    <span class="token operator">?</span> contentDisposition<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;filename=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">?.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">data-item-template-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>reportCode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.csv</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// 创建下载链接</span></span>
<span class="line">  <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span></span>
<span class="line">  a<span class="token punctuation">.</span>download <span class="token operator">=</span> fileName<span class="token punctuation">;</span></span>
<span class="line">  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_9-获取报表数据项信息接口" tabindex="-1"><a class="header-anchor" href="#_9-获取报表数据项信息接口"><span>9. 获取报表数据项信息接口</span></a></h3><p><strong>接口地址</strong>: <code>GET /api/nationalsystem/report-data-items</code></p><p><strong>功能描述</strong>: 分页查询指定报表的数据项信息列表</p><p><strong>请求参数</strong> (Query Parameters):</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">skipCount=0                     // 跳过记录数，从0开始，默认0</span>
<span class="line">maxResultCount=10               // 每页最大结果数，默认10</span>
<span class="line">sorting=itemName desc           // 排序字段，可选</span>
<span class="line">reportCode=string               // 下发报表编码，可选</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token comment">// 数据项列表</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据项ID (GUID)</span></span>
<span class="line">      <span class="token property">&quot;itemCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 数据项编码（全局唯一）</span></span>
<span class="line">      <span class="token property">&quot;itemName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// 数据项名称</span></span>
<span class="line">      <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 数据项描述，业务含义</span></span>
<span class="line">      <span class="token property">&quot;fillRequire&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 填报要求</span></span>
<span class="line">      <span class="token property">&quot;itemDataType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据项类型</span></span>
<span class="line">      <span class="token property">&quot;measurementUnit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 计量单位</span></span>
<span class="line">      <span class="token property">&quot;numberUnitName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数字单位名称</span></span>
<span class="line">      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 校验规则</span></span>
<span class="line">      <span class="token property">&quot;creationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间</span></span>
<span class="line">      <span class="token property">&quot;creatorId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 创建者ID</span></span>
<span class="line">      <span class="token property">&quot;lastModificationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后修改时间</span></span>
<span class="line">      <span class="token property">&quot;lastModifierId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最后修改者ID</span></span>
<span class="line">      <span class="token property">&quot;isDeleted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>       <span class="token comment">// 是否已删除</span></span>
<span class="line">      <span class="token property">&quot;deleterId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// 删除者ID</span></span>
<span class="line">      <span class="token property">&quot;deletionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 删除时间</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;totalCount&quot;</span><span class="token operator">:</span> <span class="token number">100</span>            <span class="token comment">// 总记录数</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用场景</strong>:</p><ul><li>查询指定报表包含的所有数据项详细信息</li><li>用于前端展示报表的数据结构和填报要求</li><li>支持分页查询，便于大数据量场景下的性能优化</li></ul><p><strong>注意事项</strong>:</p><ul><li>当不提供reportCode参数时，返回所有数据项</li><li>支持按itemName等字段进行排序</li><li>返回的数据项包含完整的填报规则和校验信息</li></ul><hr><h3 id="_10-任务关联业务表接口" tabindex="-1"><a class="header-anchor" href="#_10-任务关联业务表接口"><span>10. 任务关联业务表接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/task-bind-Ledger</code></p><p><strong>功能描述</strong>: 将下发的任务关联到指定的业务表</p><p><strong>请求参数</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;taskCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>          <span class="token comment">// 国家系统生成的全局唯一任务编号，必填，最大100字符</span></span>
<span class="line">  <span class="token property">&quot;ledgerId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;</span> <span class="token comment">// 关联的业务表Id，必填，GUID格式</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码，200表示成功</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;任务关联业务表成功&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>状态码说明</strong>:</p><ul><li><code>200</code>: 关联成功</li><li><code>400</code>: 请求参数错误或参数验证失败</li><li><code>404</code>: 任务或业务表不存在</li><li><code>500</code>: 服务器内部错误</li></ul><p><strong>使用场景</strong>:</p><ul><li>将国家系统下发的任务与本地业务表建立关联关系</li><li>便于后续的任务数据处理和业务表管理</li><li>支持任务数据的本地化存储和管理</li></ul><p><strong>注意事项</strong>:</p><ul><li>任务编号必须存在于任务分发记录中</li><li>业务表Id必须是有效的GUID格式</li><li>一个任务只能关联一个业务表</li><li>关联成功后会更新任务分发记录中的LedgerId字段</li></ul><hr><h3 id="_11-移除任务关联业务表接口" tabindex="-1"><a class="header-anchor" href="#_11-移除任务关联业务表接口"><span>11. 移除任务关联业务表接口</span></a></h3><p><strong>接口地址</strong>: <code>POST /api/nationalsystem/task-unbind-Ledger/{taskCode}</code></p><p><strong>功能描述</strong>: 移除任务与业务表的关联关系</p><p><strong>请求参数</strong>:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">taskCode=string                 // 路径参数，国家系统生成的全局唯一任务编号，必填</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>响应结果</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码，200表示成功</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>                 <span class="token comment">// 响应消息，成功时为空</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>状态码说明</strong>:</p><ul><li><code>200</code>: 移除关联成功</li><li><code>404</code>: 任务不存在</li><li><code>500</code>: 服务器内部错误</li></ul><p><strong>使用场景</strong>:</p><ul><li>取消任务与业务表的关联关系</li><li>重新分配任务到其他业务表</li><li>清理无效的关联关系</li></ul><p><strong>注意事项</strong>:</p><ul><li>任务编号必须存在于任务分发记录中</li><li>移除关联后会清空任务分发记录中的LedgerId字段</li><li>不会删除任务或业务表本身，只是解除关联关系</li></ul><hr><h2 id="通用响应格式" tabindex="-1"><a class="header-anchor" href="#通用响应格式"><span>通用响应格式</span></a></h2><p>所有接口都遵循统一的响应格式：</p><p><strong>成功响应</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                   <span class="token comment">// 响应代码</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>             <span class="token comment">// 响应消息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>错误响应</strong>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>                   <span class="token comment">// 错误代码</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误描述&quot;</span><span class="token punctuation">,</span>         <span class="token comment">// 错误信息</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T12:00:00&quot;</span> <span class="token comment">// 响应时间戳</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常用错误代码</strong>:</p><ul><li><code>400</code>: 请求参数错误</li><li><code>401</code>: 未授权访问</li><li><code>404</code>: 资源不存在</li><li><code>500</code>: 服务器内部错误</li></ul><hr><h2 id="签名验证" tabindex="-1"><a class="header-anchor" href="#签名验证"><span>签名验证</span></a></h2><p>如果启用了签名验证（通过<code>RequireSignature</code>特性），所有接口需要在请求头中包含以下签名信息：</p><p><strong>请求头</strong>:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">X-App-Key: &quot;应用密钥&quot;</span>
<span class="line">X-Timestamp: &quot;时间戳&quot;</span>
<span class="line">X-Nonce: &quot;随机字符串&quot;</span>
<span class="line">X-Signature: &quot;签名值&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="示例代码" tabindex="-1"><a class="header-anchor" href="#示例代码"><span>示例代码</span></a></h2><h3 id="javascript-typescript-示例" tabindex="-1"><a class="header-anchor" href="#javascript-typescript-示例"><span>JavaScript/TypeScript 示例</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// 获取报表列表</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getReports</span><span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  skipCount<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  maxResultCount<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  reportName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  reportCode<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> queryParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    skipCount<span class="token operator">:</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>skipCount <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    maxResultCount<span class="token operator">:</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>maxResultCount <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token operator">...</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>reportName <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> reportName<span class="token operator">:</span> params<span class="token punctuation">.</span>reportName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token operator">...</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>reportCode <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> reportCode<span class="token operator">:</span> params<span class="token punctuation">.</span>reportCode <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api/nationalsystem/reports?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>queryParams<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 数据项查询</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">queryDataItems</span><span class="token punctuation">(</span>codes<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/nationalsystem/data-items-query&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      codes<span class="token operator">:</span> codes <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// 如果不传codes则全量返回</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 获取报表数据项信息</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getReportDataItems</span><span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  skipCount<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  maxResultCount<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  sorting<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  reportCode<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> queryParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    skipCount<span class="token operator">:</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>skipCount <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    maxResultCount<span class="token operator">:</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>maxResultCount <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token operator">...</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>sorting <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> sorting<span class="token operator">:</span> params<span class="token punctuation">.</span>sorting <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token operator">...</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>reportCode <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> reportCode<span class="token operator">:</span> params<span class="token punctuation">.</span>reportCode <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api/nationalsystem/report-data-items?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>queryParams<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 报表状态反馈</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">submitReportFeedback</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  deptCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  reportCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  reportVersion<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  status<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span>
<span class="line">  statusTime<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  remark<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/nationalsystem/report/feedback&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 任务关联业务表</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bindTaskLedger</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  taskCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line">  ledgerId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/api/nationalsystem/task-bind-Ledger&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 移除任务关联业务表</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">unbindTaskLedger</span><span class="token punctuation">(</span>taskCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api/nationalsystem/task-unbind-Ledger/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>taskCode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="curl-示例" tabindex="-1"><a class="header-anchor" href="#curl-示例"><span>cURL 示例</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 获取报表列表</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token string">&quot;http://localhost:8888/api/nationalsystem/reports?skipCount=0&amp;maxResultCount=10&amp;reportName=统计报表&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 数据项查询（指定编码）</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/data-items-query&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;codes&quot;: [&quot;ITEM001&quot;, &quot;ITEM002&quot;, &quot;ITEM003&quot;]</span>
<span class="line">  }&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 数据项查询（全量返回）</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/data-items-query&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;codes&quot;: []</span>
<span class="line">  }&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取报表数据项信息</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token string">&quot;http://localhost:8888/api/nationalsystem/report-data-items?skipCount=0&amp;maxResultCount=10&amp;reportCode=RPT_2024_001&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 报表状态反馈</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/report/feedback&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;deptCode&quot;: &quot;DEPT001&quot;,</span>
<span class="line">    &quot;reportCode&quot;: &quot;RPT_2024_001&quot;,</span>
<span class="line">    &quot;reportVersion&quot;: &quot;v1.0&quot;,</span>
<span class="line">    &quot;status&quot;: 2,</span>
<span class="line">    &quot;statusTime&quot;: &quot;2024-01-01T12:00:00&quot;,</span>
<span class="line">    &quot;remark&quot;: &quot;报表已签收&quot;</span>
<span class="line">  }&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 任务关联业务表</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/task-bind-Ledger&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;taskCode&quot;: &quot;TASK_2024_001&quot;,</span>
<span class="line">    &quot;ledgerId&quot;: &quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;</span>
<span class="line">  }&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 移除任务关联业务表</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:8888/api/nationalsystem/task-unbind-Ledger/TASK_2024_001&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li><strong>时间格式</strong>: 所有时间字段使用ISO8601格式 <code>YYYY-MM-DDTHH:mm:ss</code></li><li><strong>字符编码</strong>: 所有接口使用UTF-8编码</li><li><strong>文件上传</strong>: 文件内容需要Base64编码，最大文件大小100MB</li><li><strong>MD5验证</strong>: 文件MD5值必须为32位十六进制字符串，用于文件完整性校验</li><li><strong>SM3摘要</strong>: 系统使用SM3算法对文件进行摘要计算</li><li><strong>参数验证</strong>: 必填参数不能为空，长度限制请参考具体接口说明</li><li><strong>分页查询</strong>: 使用SkipCount（跳过记录数）和MaxResultCount（每页最大结果数），SkipCount从0开始，默认每页10条记录</li><li><strong>ID格式</strong>: 实体ID为GUID格式，如：<code>3fa85f64-5717-4562-b3fc-2c963f66afa6</code></li><li><strong>审计字段</strong>: 所有实体包含完整的审计字段（创建时间、创建者、修改时间、修改者等）</li><li><strong>错误处理</strong>: 建议客户端根据响应码和消息进行相应错误处理</li></ol><hr><h2 id="更新记录" tabindex="-1"><a class="header-anchor" href="#更新记录"><span>更新记录</span></a></h2><table><thead><tr><th>版本</th><th>日期</th><th>更新内容</th></tr></thead><tbody><tr><td>1.4.0</td><td>2024-12-02</td><td>新增任务关联业务表接口（task-bind-Ledger）和移除任务关联业务表接口（task-unbind-Ledger）</td></tr><tr><td>1.3.0</td><td>2024-11-26</td><td>新增获取报表数据项信息接口（report-data-items），支持分页查询报表数据项</td></tr><tr><td>1.2.0</td><td>2024-11-21</td><td>新增下载数据项模板文件接口（data-item-template/download），支持CSV文件下载和断点续传</td></tr><tr><td>1.1.0</td><td>2024-11-19</td><td>新增数据项查询接口（data-items-query），支持按编码查询和全量查询</td></tr><tr><td>1.0.0</td><td>2024-01-01</td><td>初始版本，包含6个核心接口</td></tr></tbody></table><hr><p><em>本文档基于NationalSystemController控制器自动生成，如有疑问请联系开发团队。</em></p>`,160)])])}const c=n(e,[["render",o]]),r=JSON.parse('{"path":"/web/%E5%9B%BD%E5%AE%B6%E4%B8%80%E8%A1%A8%E9%80%9A%E5%89%8D%E7%AB%AF%E5%AF%B9%E6%8E%A5%E6%96%87%E6%A1%A3.html","title":"NationalSystemController 前端对接文档","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1766027024000,"contributors":[{"name":"2553519066","username":"","email":"2553519066@qq.com","commits":1}],"changelog":[{"hash":"73daec44bb6b31f18393acc147f033664e6c8003","time":1766027024000,"email":"2553519066@qq.com","author":"2553519066","message":"1"}]},"filePathRelative":"web/国家一表通前端对接文档.md"}');export{c as comp,r as data};
